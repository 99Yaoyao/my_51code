C51 COMPILER V9.60.7.0   AT24C02                                                           03/05/2023 19:04:45 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE AT24C02
OBJECT MODULE PLACED IN .\Objects\AT24C02.obj
COMPILER INVOKED BY: E:\keil5_MDKorC51\C51\BIN\C51.EXE AT24C02.c OPTIMIZE(8,SPEED) BROWSE INCDIR(E:\keil5_MDKorC51\C51\I
                    -NC\Atmel) DEBUG OBJECTEXTEND PRINT(.\Listings\AT24C02.lst) OBJECT(.\Objects\AT24C02.obj)

line level    source

   1          #include "I2C.h"
   2          #include <REGX52.H>
*** ERROR C231 IN LINE 14 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'P0': redefinition
*** ERROR C231 IN LINE 15 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SP': redefinition
*** ERROR C231 IN LINE 16 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'DPL': redefinition
*** ERROR C231 IN LINE 17 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'DPH': redefinition
*** ERROR C231 IN LINE 18 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PCON': redefinition
*** ERROR C231 IN LINE 19 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TCON': redefinition
*** ERROR C231 IN LINE 20 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TMOD': redefinition
*** ERROR C231 IN LINE 21 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TL0': redefinition
*** ERROR C231 IN LINE 22 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TL1': redefinition
*** ERROR C231 IN LINE 23 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TH0': redefinition
*** ERROR C231 IN LINE 24 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TH1': redefinition
*** ERROR C231 IN LINE 25 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'P1': redefinition
*** ERROR C231 IN LINE 26 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SCON': redefinition
*** ERROR C231 IN LINE 27 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SBUF': redefinition
*** ERROR C231 IN LINE 28 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'P2': redefinition
*** ERROR C231 IN LINE 29 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IE': redefinition
*** ERROR C231 IN LINE 30 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'P3': redefinition
*** ERROR C231 IN LINE 31 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IP': redefinition
*** ERROR C231 IN LINE 32 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'T2CON': redefinition
*** ERROR C231 IN LINE 34 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RCAP2L': redefinition
*** ERROR C231 IN LINE 35 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RCAP2H': redefinition
*** ERROR C231 IN LINE 36 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TL2': redefinition
*** ERROR C231 IN LINE 37 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TH2': redefinition
*** ERROR C231 IN LINE 38 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PSW': redefinition
*** ERROR C231 IN LINE 39 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'ACC': redefinition
*** ERROR C231 IN LINE 40 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'B': redefinition
*** ERROR C231 IN LINE 69 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IT0': redefinition
*** ERROR C231 IN LINE 70 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IE0': redefinition
*** ERROR C231 IN LINE 71 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IT1': redefinition
*** ERROR C231 IN LINE 72 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'IE1': redefinition
*** ERROR C231 IN LINE 73 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TR0': redefinition
*** ERROR C231 IN LINE 74 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TF0': redefinition
*** ERROR C231 IN LINE 75 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TR1': redefinition
*** ERROR C231 IN LINE 76 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TF1': redefinition
*** ERROR C231 IN LINE 105 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'T2': redefinition
*** ERROR C231 IN LINE 106 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'T2EX': redefinition
*** ERROR C231 IN LINE 111 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RI': redefinition
*** ERROR C231 IN LINE 112 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TI': redefinition
*** ERROR C231 IN LINE 113 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RB8': redefinition
*** ERROR C231 IN LINE 114 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TB8': redefinition
*** ERROR C231 IN LINE 115 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'REN': redefinition
*** ERROR C231 IN LINE 116 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SM2': redefinition
*** ERROR C231 IN LINE 117 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SM1': redefinition
*** ERROR C231 IN LINE 118 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'SM0': redefinition
*** ERROR C231 IN LINE 135 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'EX0': redefinition
*** ERROR C231 IN LINE 136 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'ET0': redefinition
*** ERROR C231 IN LINE 137 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'EX1': redefinition
*** ERROR C231 IN LINE 138 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'ET1': redefinition
*** ERROR C231 IN LINE 139 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'ES': redefinition
*** ERROR C231 IN LINE 140 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'ET2': redefinition
*** ERROR C231 IN LINE 142 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'EA': redefinition
*** ERROR C231 IN LINE 156 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RXD': redefinition
C51 COMPILER V9.60.7.0   AT24C02                                                           03/05/2023 19:04:45 PAGE 2   

*** ERROR C231 IN LINE 157 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TXD': redefinition
*** ERROR C231 IN LINE 158 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'INT0': redefinition
*** ERROR C231 IN LINE 159 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'INT1': redefinition
*** ERROR C231 IN LINE 160 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'T0': redefinition
*** ERROR C231 IN LINE 161 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'T1': redefinition
*** ERROR C231 IN LINE 162 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'WR': redefinition
*** ERROR C231 IN LINE 163 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RD': redefinition
*** ERROR C231 IN LINE 168 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PX0': redefinition
*** ERROR C231 IN LINE 169 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PT0': redefinition
*** ERROR C231 IN LINE 170 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PX1': redefinition
*** ERROR C231 IN LINE 171 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PT1': redefinition
*** ERROR C231 IN LINE 172 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PS': redefinition
*** ERROR C231 IN LINE 173 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'PT2': redefinition
*** ERROR C231 IN LINE 178 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'CP_RL2': redefinition
*** ERROR C231 IN LINE 179 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'C_T2': redefinition
*** ERROR C231 IN LINE 180 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TR2': redefinition
*** ERROR C231 IN LINE 181 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'EXEN2': redefinition
*** ERROR C231 IN LINE 182 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TCLK': redefinition
*** ERROR C231 IN LINE 183 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RCLK': redefinition
*** ERROR C231 IN LINE 184 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'EXF2': redefinition
*** ERROR C231 IN LINE 185 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'TF2': redefinition
*** ERROR C231 IN LINE 196 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'P': redefinition
*** ERROR C231 IN LINE 198 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'OV': redefinition
*** ERROR C231 IN LINE 199 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RS0': redefinition
*** ERROR C231 IN LINE 200 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'RS1': redefinition
*** ERROR C231 IN LINE 201 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'F0': redefinition
*** ERROR C231 IN LINE 202 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'AC': redefinition
*** ERROR C231 IN LINE 203 OF E:\keil5_MDKorC51\C51\INC\Atmel\REGX52.H: 'CY': redefinition
   3          #include "public.h"
   4          /*
   5          u8 AT24C02_write(u8 addr,u8 dat)
   6          {
   7              u8 ask = 0;
   8              I2C_start();
   9              I2C_send_byte(0xA0);
  10              ask = I2C_receive_ack();
  11              if(ask==0)
  12                  I2C_send_byte(dat);
  13              else
  14                  return 0;
  15              ask = I2C_receive_ack();
  16              I2C_stop();
  17              return 1;
  18          }
  19          */
  20          void AT24C02_write(u8 addr,u8 dat)//对从机某个地址写入一个数据
  21          {
  22   1          I2C_start();//开始
  23   1          I2C_send_byte(0xA0);//往I2C总线上发送地址寻找对应从机
  24   1          I2C_receive_ack();//从机应答
  25   1          I2C_send_byte(addr);//发送要写入数据的地址，称为字地址，就是数据存在哪
  26   1          I2C_receive_ack();//从机应答
  27   1          I2C_send_byte(dat);//要在字地址上写入什么数据
  28   1          I2C_receive_ack();//从机应答
  29   1          I2C_stop();//停止
  30   1      }
  31          u8 AT24C02_read(u8 addr)//对从机某个地址读出一个数据,写加读（复合格式）
  32          {
  33   1          u8 dat = 0;//定义一个变量接收读出的数据
  34   1          I2C_start();//开始
  35   1          I2C_send_byte(0xA0);//发送从机地址+写操作（0为写1为读）等待从机应答
  36   1          I2C_receive_ack();//从机应答
C51 COMPILER V9.60.7.0   AT24C02                                                           03/05/2023 19:04:45 PAGE 3   

  37   1          I2C_send_byte(addr);//发送要读的数据所在地址
  38   1          I2C_receive_ack();//从机应答
  39   1          
  40   1          I2C_start();//再来一个开始
  41   1          I2C_send_byte(0xA1);//发送从机地址+读操作等待从机应答
  42   1          I2C_receive_ack();//从机应答
  43   1          dat = I2C_receive_byte();//从机读出数据所在地址包含的数据并发送出来
  44   1          I2C_send_ack(1);//主机不应答
  45   1          I2C_stop();//停止
  46   1          return dat;
  47   1      }
  48          
  49          
  50          
  51          
  52          
  53          
  54          

C51 COMPILATION COMPLETE.  0 WARNING(S),  80 ERROR(S)
